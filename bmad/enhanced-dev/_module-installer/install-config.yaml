# Enhanced Dev Module Installation Configuration

code: "enhanced-dev"
name: "Enhanced Development Module"
version: "1.0.0"
default_selected: true

# Welcome message shown during installation
prompt:
  - "ðŸŽ¯ Enhanced Development Module - Master/Sub-Developer Pattern"
  - "Orchestrate development with isolated contexts, auto-testing, and autonomous fixes."

# Core configuration (inherited from global installer)
## user_name - from global config
## communication_language - from global config
## document_output_language - from global config
## output_folder - from global config

# Enhanced Dev specific configuration

run_tests_command:
  prompt: "What is your test command?"
  default: "npm test"
  result: "{value}"

test_coverage_threshold:
  prompt: "Minimum test coverage percentage?"
  default: "80"
  result: "{value}"

max_task_retries:
  prompt: "Maximum implementation attempts per task?"
  default: "3"
  result: "{value}"

max_fix_retries:
  prompt: "Maximum fix attempts per task?"
  default: "3"
  result: "{value}"

task_timeout_minutes:
  prompt: "Task timeout in minutes?"
  default: "15"
  result: "{value}"

auto_commit:
  prompt: "Auto-commit after each successful task?"
  default: "true"
  result: "{value}"
  single-select:
    - value: "true"
      label: "Yes - Auto-commit each task"
    - value: "false"
      label: "No - Manual commits only"

auto_deploy:
  prompt: "Auto-deploy after story completion?"
  default: "false"
  result: "{value}"
  single-select:
    - value: "true"
      label: "Yes - Auto-deploy when all tasks done"
    - value: "false"
      label: "No - Manual deployment only"

deploy_command:
  prompt: "Deployment command (leave empty to skip):"
  default: ""
  result: "{value}"

deploy_target:
  prompt: "Deployment target (e.g., 'production', URL):"
  default: "production"
  result: "{value}"

git_branch:
  prompt: "Git branch for deployments?"
  default: "main"
  result: "{value}"

git_remote:
  prompt: "Git remote name?"
  default: "origin"
  result: "{value}"

# Static configuration (not prompted)

status_location:
  result: "{project-root}/.bmad/enhanced-dev"

dev_status_file:
  result: "{project-root}/.bmad/enhanced-dev/status.yaml"

story_location:
  result: "{project-root}/stories"

max_loop_iterations:
  result: "10"

commit_message_template:
  result: "feat: {task_description}\n\n- Implemented {task_id}\n- Tests: {test_status}\n- Coverage: {coverage}%\n\nðŸ¤– Generated by Enhanced Dev"
